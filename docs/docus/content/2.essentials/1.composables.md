---
title: Composables
description: Learn how to use Nuxt Contentstack composables to fetch entries, assets, and content with type safety, caching, and live preview support.
navigation:
  icon: i-lucide-code
---

Nuxt Contentstack provides a comprehensive set of Vue composables that make fetching content from Contentstack simple, type-safe, and performant. All composables support caching, live preview, personalization, and include built-in error handling.

## Overview

The module provides five main composables for different content fetching scenarios:

| Composable | Purpose | Return Type |
|------------|---------|-------------|
| `useGetEntry` | Fetch a single entry by UID | `AsyncData<T \| null>` |
| `useGetEntryByUrl` | Query entries by URL field | `AsyncData<T \| null>` |
| `useGetEntries` | Fetch multiple entries with filtering | `AsyncData<{entries: T[], count?: number} \| null>` |
| `useGetAsset` | Fetch a single asset by UID | `AsyncData<Asset \| null>` |
| `useGetAssets` | Fetch multiple assets with filtering | `AsyncData<Asset[] \| null>` |

## useGetEntry

Fetch a single entry by its unique identifier (UID).

### Basic Usage

```vue [pages/blog/[slug].vue]
<script setup>
// Fetch a single blog post
const { data: post, status, refresh } = await useGetEntry({
  contentTypeUid: 'blog_post',
  entryUid: 'blt123456789',
  locale: 'en-us'
})
</script>

<template>
  <article v-if="post">
    <h1>{{ post.title }}</h1>
    <div v-html="post.content"></div>
  </article>
</template>
```

### With References

Include referenced content like authors, categories, or related entries:

```vue
<script setup>
const { data: post } = await useGetEntry({
  contentTypeUid: 'blog_post',
  entryUid: 'blt123456789',
  referenceFieldPath: ['author', 'category', 'related_posts'],
  jsonRtePath: ['content', 'description'],
  locale: 'en-us'
})
</script>

<template>
  <article v-if="post">
    <h1>{{ post.title }}</h1>
    
    <!-- Author information -->
    <div v-if="post.author">
      <p>By {{ post.author.name }}</p>
      <img :src="post.author.avatar.url" :alt="post.author.name">
    </div>
    
    <!-- Category -->
    <span v-if="post.category" class="category">
      {{ post.category.title }}
    </span>
    
    <!-- Content with converted rich text -->
    <div v-html="post.content"></div>
    
    <!-- Related posts -->
    <div v-if="post.related_posts?.length">
      <h3>Related Posts</h3>
      <div v-for="related in post.related_posts" :key="related.uid">
        <NuxtLink :to="`/blog/${related.url}`">
          {{ related.title }}
        </NuxtLink>
      </div>
    </div>
  </article>
</template>
```

### Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `contentTypeUid` | `string` | ✅ | - | Content type identifier |
| `entryUid` | `string` | ✅ | - | Unique entry identifier |
| `referenceFieldPath` | `string[]` | ❌ | `[]` | Reference fields to include |
| `jsonRtePath` | `string[]` | ❌ | `[]` | Rich text fields to convert |
| `locale` | `string` | ❌ | `'en-us'` | Content locale |
| `replaceHtmlCslp` | `boolean` | ❌ | `false` | Remove CSLP tags from HTML |

## useGetEntryByUrl

Query entries that have a URL field, perfect for page routing and SEO-friendly URLs.

### Basic Usage

```vue [pages/[...slug].vue]
<script setup>
const route = useRoute()
const path = Array.isArray(route.params.slug) 
  ? `/${route.params.slug.join('/')}` 
  : `/${route.params.slug}`

const { data: page } = await useGetEntryByUrl({
  contentTypeUid: 'page',
  url: path,
  referenceFieldPath: ['seo', 'components'],
  jsonRtePath: ['content']
})

// Handle 404 if page not found
if (!page.value) {
  throw createError({
    statusCode: 404,
    statusMessage: 'Page Not Found'
  })
}
</script>

<template>
  <main v-if="page">
    <Head>
      <Title>{{ page.seo?.title || page.title }}</Title>
      <Meta name="description" :content="page.seo?.description" />
    </Head>
    
    <h1>{{ page.title }}</h1>
    <div v-html="page.content"></div>
    
    <!-- Dynamic components -->
    <div v-for="component in page.components" :key="component.uid">
      <component :is="component._content_type_uid" v-bind="component" />
    </div>
  </main>
</template>
```

### Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `contentTypeUid` | `string` | ✅ | - | Content type identifier |
| `url` | `string` | ✅ | - | URL to match against URL field |
| `referenceFieldPath` | `string[]` | ❌ | `[]` | Reference fields to include |
| `jsonRtePath` | `string[]` | ❌ | `[]` | Rich text fields to convert |
| `locale` | `string` | ❌ | `'en-us'` | Content locale |
| `replaceHtmlCslp` | `boolean` | ❌ | `false` | Remove CSLP tags from HTML |

## useGetEntries

Fetch multiple entries with powerful filtering, sorting, and pagination capabilities.

### Basic Usage

```vue [pages/blog/index.vue]
<script setup>
const { data: result } = await useGetEntries({
  contentTypeUid: 'blog_post',
  referenceFieldPath: ['author'],
  limit: 10,
  orderBy: 'created_at',
  includeCount: true
})

const posts = computed(() => result.value?.entries || [])
const totalCount = computed(() => result.value?.count || 0)
</script>

<template>
  <div>
    <h1>Blog Posts ({{ totalCount }})</h1>
    
    <article v-for="post in posts" :key="post.uid">
      <h2>
        <NuxtLink :to="`/blog/${post.url}`">
          {{ post.title }}
        </NuxtLink>
      </h2>
      <p>By {{ post.author?.name }}</p>
      <p>{{ post.excerpt }}</p>
    </article>
  </div>
</template>
```

### Advanced Filtering

Use query operators for complex filtering:

```vue
<script setup>
const currentYear = new Date().getFullYear()

const { data: result } = await useGetEntries({
  contentTypeUid: 'blog_post',
  referenceFieldPath: ['author', 'tags'],
  limit: 20,
  skip: 0,
  orderBy: 'published_at',
  includeCount: true,
  where: {
    // Exact match
    status: 'published',
    
    // Array contains
    tags: ['vue', 'nuxt'],
    
    // Comparison operators
    view_count: { $gt: 1000 },
    published_at: { 
      $gte: `${currentYear}-01-01`,
      $lt: `${currentYear + 1}-01-01`
    },
    
    // Existence checks
    featured_image: { $exists: true },
    
    // Pattern matching
    title: { $regex: 'nuxt.*contentstack' },
    
    // Not equal
    author: { $ne: 'guest' }
  }
})
</script>
```

### Pagination

Implement pagination with skip and limit:

```vue [pages/blog/page/[page].vue]
<script setup>
const route = useRoute()
const page = parseInt(route.params.page) || 1
const limit = 10
const skip = (page - 1) * limit

const { data: result } = await useGetEntries({
  contentTypeUid: 'blog_post',
  limit,
  skip,
  includeCount: true,
  orderBy: 'created_at'
})

const posts = computed(() => result.value?.entries || [])
const totalCount = computed(() => result.value?.count || 0)
const totalPages = computed(() => Math.ceil(totalCount.value / limit))
</script>

<template>
  <div>
    <div v-for="post in posts" :key="post.uid">
      <!-- Post content -->
    </div>
    
    <!-- Pagination -->
    <nav class="pagination">
      <NuxtLink 
        v-if="page > 1" 
        :to="`/blog/page/${page - 1}`"
      >
        Previous
      </NuxtLink>
      
      <span>Page {{ page }} of {{ totalPages }}</span>
      
      <NuxtLink 
        v-if="page < totalPages" 
        :to="`/blog/page/${page + 1}`"
      >
        Next
      </NuxtLink>
    </nav>
  </div>
</template>
```

### Parameters

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `contentTypeUid` | `string` | ✅ | - | Content type identifier |
| `referenceFieldPath` | `string[]` | ❌ | `[]` | Reference fields to include |
| `jsonRtePath` | `string[]` | ❌ | `[]` | Rich text fields to convert |
| `locale` | `string` | ❌ | `'en-us'` | Content locale |
| `replaceHtmlCslp` | `boolean` | ❌ | `false` | Remove CSLP tags from HTML |
| `limit` | `number` | ❌ | `10` | Number of entries to fetch |
| `skip` | `number` | ❌ | `0` | Number of entries to skip |
| `orderBy` | `string` | ❌ | - | Field to sort by |
| `includeCount` | `boolean` | ❌ | `false` | Include total count in response |
| `where` | `object` | ❌ | `{}` | Query conditions |

## Query Operators

Use these operators in the `where` parameter for advanced filtering:

| Operator | Description | Example |
|----------|-------------|---------|
| Direct value | Exact match | `status: 'published'` |
| Array | Contains any value | `tags: ['vue', 'nuxt']` |
| `$gt` | Greater than | `views: { $gt: 1000 }` |
| `$gte` | Greater than or equal | `date: { $gte: '2024-01-01' }` |
| `$lt` | Less than | `price: { $lt: 100 }` |
| `$lte` | Less than or equal | `date: { $lte: '2024-12-31' }` |
| `$ne` | Not equal | `author: { $ne: 'guest' }` |
| `$exists` | Field exists | `image: { $exists: true }` |
| `$regex` | Pattern match | `title: { $regex: 'vue.*guide' }` |

## useGetAsset & useGetAssets

Fetch Contentstack assets with filtering capabilities.

### Single Asset

```vue
<script setup>
const { data: asset } = await useGetAsset({
  assetUid: 'blt123456789',
  locale: 'en-us'
})
</script>

<template>
  <div v-if="asset">
    <img :src="asset.url" :alt="asset.title">
    <p>{{ asset.description }}</p>
  </div>
</template>
```

### Multiple Assets

```vue
<script setup>
const { data: images } = await useGetAssets({
  locale: 'en-us',
  limit: 20,
  where: {
    content_type: 'image/jpeg'
  }
})
</script>

<template>
  <div class="gallery">
    <div v-for="image in images" :key="image.uid">
      <img :src="image.url" :alt="image.title">
    </div>
  </div>
</template>
```

::callout{icon="i-lucide-info"}
**Asset Filtering**: Asset filtering has limited server-side support. Most filters are applied client-side after fetching.
::

## Live Preview Integration

All composables automatically support live preview when enabled:

```vue
<script setup>
const { data: page, refresh } = await useGetEntryByUrl({
  contentTypeUid: 'page',
  url: '/about'
})

// refresh() is automatically called when content changes in live preview
</script>
```

## TypeScript Support

Define interfaces for your content types to get full type safety:

```typescript [types/contentstack.ts]
export interface BlogPost {
  uid: string
  title: string
  url: string
  content: string
  excerpt: string
  published_at: string
}
```

```vue
<script setup lang="ts">
// Type-safe usage
const { data: post } = await useGetEntry<BlogPost>({
  contentTypeUid: 'blog_post',
  entryUid: 'blt123456789',
})

// TypeScript knows the structure of post.value
</script>
```

## Error Handling

All composables include built-in error handling:

```vue
<script setup>
const { data: post, status, error } = await useGetEntry({
  contentTypeUid: 'blog_post',
  entryUid: 'invalid-uid'
})

// Handle different states
</script>

<template>
  <div>
    <div v-if="status === 'pending'">Loading...</div>
    <div v-else-if="error">Error: {{ error }}</div>
    <div v-else-if="post">{{ post.title }}</div>
    <div v-else>No content found</div>
  </div>
</template>
```

## Best Practices

### Performance
- Use appropriate `limit` values to avoid over-fetching
- Include only necessary reference fields
- Enable caching for frequently accessed content

### SEO
- Use `useGetEntryByUrl` for page routing
- Include structured data and meta tags
- Handle 404 cases gracefully

### Content Management
- Enable live preview for content teams
- Structure reference fields logically

### Development
- Use TypeScript interfaces for content types
  - use contentstack CLI tsgen plugin to fetch types.
- Handle loading and error states
- Test with different content scenarios

## Next Steps

::div{class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6"}
  ::card
  ---
  title: "Image Optimization"
  icon: "i-lucide-image"
  to: "/essentials/image-optimization"
  ---
  Learn about image transformations and @nuxt/image integration.
  ::

  ::card
  ---
  title: "TypeScript Guide"
  icon: "i-lucide-code-2"
  to: "/guides/typescript"
  ---
  Set up complete type safety for your content models.
  ::
::

::div{class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"}
  ::card
  ---
  title: "Live Preview"
  icon: "i-lucide-eye"
  to: "/features/live-preview"
  ---
  Enable real-time content editing and visual building.
  ::

  ::card
  ---
  title: "DevTools"
  icon: "i-lucide-wrench"
  to: "/features/devtools"
  ---
  Debug queries and monitor performance with DevTools integration.
  ::
::
